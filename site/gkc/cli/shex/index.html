
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Data Distillery - A framework for data distillation toward the Global Knowledge Commons">
      
      
      
        <link rel="canonical" href="https://datadistillery.org/gkc/cli/shex/">
      
      
        <link rel="prev" href="../profiles/">
      
      
        <link rel="next" href="../../utilities/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>ShEx - Data Distillery</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#shex-commands" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Data Distillery" class="md-header__button md-logo" aria-label="Data Distillery" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Data Distillery
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ShEx
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/skybristol/gkc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    skybristol/gkc
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Data Distillery" class="md-nav__button md-logo" aria-label="Data Distillery" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Data Distillery
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/skybristol/gkc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    skybristol/gkc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Data Curation Narratives
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data Curation Narratives
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tribes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tribal Governments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SpiritSafe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpiritSafe
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/profile-loading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profile Loading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/spiritsafe-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpiritSafe Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../architecture/validation-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Validation Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    GKC Documentation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    GKC Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Background
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup and Orientation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data Distillery Workflow
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data Distillery Workflow
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shipping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shipping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/mash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mash
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/mash_formatters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mash Formatters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/spirit_safe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpiritSafe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/shex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ShEx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/shipper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shipper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sparql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPARQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" checked>
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Command Line Interface
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Command Line Interface
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mash
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    ShEx
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    ShEx
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validate-rdf-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate RDF Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validate RDF Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Source Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validate-wikidata-entity-against-entityschema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate Wikidata entity against EntitySchema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-failure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation failure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-local-rdf-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate local RDF file
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-wikidata-entity-with-local-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate Wikidata entity with local schema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-local-files-fully-offline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate local files (fully offline)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-user-agent-for-bots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom user agent (for bots)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output Format
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-workflow-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation Workflow Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation Workflow Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-upload-quality-check" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pre-upload quality check
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-validation-of-existing-entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch validation of existing entities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-schema-changes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Testing schema changes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparing-entities-to-multiple-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparing entities to multiple schemas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-entityschemas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common EntitySchemas
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exit-codes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exit Codes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Utilities and Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities and Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CI_CD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CI/CD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../RELEASE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validate-rdf-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate RDF Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validate RDF Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Source Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Other Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validate-wikidata-entity-against-entityschema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate Wikidata entity against EntitySchema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-failure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation failure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-local-rdf-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate local RDF file
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-wikidata-entity-with-local-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate Wikidata entity with local schema
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-local-files-fully-offline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validate local files (fully offline)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-user-agent-for-bots" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom user agent (for bots)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#output-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Output Format
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-workflow-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation Workflow Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation Workflow Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-upload-quality-check" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pre-upload quality check
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-validation-of-existing-entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch validation of existing entities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-schema-changes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Testing schema changes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparing-entities-to-multiple-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comparing entities to multiple schemas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-entityschemas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common EntitySchemas
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exit-codes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exit Codes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="shex-commands">ShEx Commands</h1>
<p>Plain meaning: Validate RDF data against ShEx schemas.</p>
<h2 id="overview">Overview</h2>
<p>The ShEx module in GKC validates RDF data against ShEx (Shape Expression) schemas. It's designed primarily for validating Wikidata entities against EntitySchemas but supports validation of local RDF files as well.</p>
<p>ShEx validation helps ensure data quality by checking that entities conform to expected patterns—required properties, value types, cardinality constraints, and more.</p>
<p><strong>Current implementations:</strong>
- Wikidata entity validation (QID + EID)
- Local RDF file validation
- Mixed source validation (Wikidata entity + local schema, or local RDF + EntitySchema)</p>
<p><strong>Future implementations:</strong> Batch validation, validation reports, schema coverage analysis</p>
<hr />
<h2 id="validate-rdf-data">Validate RDF Data</h2>
<div class="highlight"><pre><span></span><code>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>
<p>Validate RDF data (from Wikidata or local file) against a ShEx schema (from Wikidata EntitySchema or local file).</p>
<h3 id="source-options">Source Options</h3>
<p><strong>RDF Data Source</strong> (choose one):
- <code>--qid &lt;QID&gt;</code>: Fetch RDF data for Wikidata item (e.g., <code>Q42</code>)
- <code>--rdf-file &lt;path&gt;</code>: Use local RDF file (Turtle format)</p>
<p><strong>Schema Source</strong> (choose one):
- <code>--eid &lt;EID&gt;</code>: Fetch ShEx schema from Wikidata EntitySchema (e.g., <code>E502</code>)
- <code>--schema-file &lt;path&gt;</code>: Use local ShEx schema file</p>
<h3 id="other-options">Other Options</h3>
<ul>
<li><code>--user-agent &lt;string&gt;</code>: Custom user agent for Wikidata API requests (recommended for bots)</li>
</ul>
<h3 id="examples">Examples</h3>
<h4 id="validate-wikidata-entity-against-entityschema">Validate Wikidata entity against EntitySchema</h4>
<div class="highlight"><pre><span></span><code>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--qid<span class="w"> </span>Q14708404<span class="w"> </span>--eid<span class="w"> </span>E502
</code></pre></div>
<p><strong>Example output:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shex.validate&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;✓ Validation passed\nEntity: Q14708404\nSchema: E502&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;entity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Q14708404&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;entity_uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://www.wikidata.org/entity/Q14708404&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;E502&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;valid&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h4 id="validation-failure">Validation failure</h4>
<div class="highlight"><pre><span></span><code>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--qid<span class="w"> </span>Q999999<span class="w"> </span>--eid<span class="w"> </span>E502
</code></pre></div>
<p><strong>Example output:</strong>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shex.validate&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;✗ Validation failed\nError: wdt:P31 value not in allowed set [wd:Q133346]\nEntity: Q999999\nSchema: E502&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;entity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Q999999&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;entity_uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://www.wikidata.org/entity/Q999999&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;E502&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;valid&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;error_summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wdt:P31 value not in allowed set [wd:Q133346]&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h4 id="validate-local-rdf-file">Validate local RDF file</h4>
<div class="highlight"><pre><span></span><code>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--rdf-file<span class="w"> </span>entity.ttl<span class="w"> </span>--eid<span class="w"> </span>E502
</code></pre></div>
<p>Validates a locally stored Turtle file against Wikidata EntitySchema E502.</p>
<h4 id="validate-wikidata-entity-with-local-schema">Validate Wikidata entity with local schema</h4>
<div class="highlight"><pre><span></span><code>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--qid<span class="w"> </span>Q42<span class="w"> </span>--schema-file<span class="w"> </span>custom_schema.shex
</code></pre></div>
<p>Fetches entity data from Wikidata but uses a custom local ShEx schema.</p>
<h4 id="validate-local-files-fully-offline">Validate local files (fully offline)</h4>
<div class="highlight"><pre><span></span><code>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--rdf-file<span class="w"> </span>entity.ttl<span class="w"> </span>--schema-file<span class="w"> </span>schema.shex
</code></pre></div>
<p>Both RDF data and ShEx schema are loaded from local files—no network requests.</p>
<h4 id="custom-user-agent-for-bots">Custom user agent (for bots)</h4>
<div class="highlight"><pre><span></span><code>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--qid<span class="w"> </span>Q14708404<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--eid<span class="w"> </span>E502<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--user-agent<span class="w"> </span><span class="s2">&quot;MyBot/1.0 (https://example.com; bot@example.com)&quot;</span>
</code></pre></div>
<p>Use a custom user agent string when fetching data from Wikidata APIs (recommended for automated tools).</p>
<hr />
<h2 id="output-format">Output Format</h2>
<p>The <code>gkc shex validate</code> command outputs JSON with the following structure:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shex.validate&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="err">|</span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Human-readable summary with status&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;entity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Q14708404&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;entity_uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://www.wikidata.org/entity/Q14708404&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;E502&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;valid&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="err">|</span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;error_summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Brief error description (only on failure)&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Full validation results (available if needed)&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Fields:</strong>
- <code>ok</code>: Command execution status (true if command succeeded, false on error)
- <code>valid</code>: Validation result (true if entity conforms to schema, false if not)
- <code>message</code>: Human-readable summary of the validation result with entity/schema info
- <code>error_summary</code>: Brief description of validation errors (present only when valid=false)
- <code>details</code>: Complete validation details including entity URI, schema reference, and error information</p>
<hr />
<h2 id="validation-workflow-examples">Validation Workflow Examples</h2>
<h3 id="pre-upload-quality-check">Pre-upload quality check</h3>
<p>Before uploading new data to Wikidata, validate it locally:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Export new entity as RDF</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>new_tribe.ttl<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
<span class="s">@prefix wd: &lt;http://www.wikidata.org/entity/&gt; .</span>
<span class="s">@prefix wdt: &lt;http://www.wikidata.org/prop/direct/&gt; .</span>

<span class="s">wd:QNEW wdt:P31 wd:Q133346 ;</span>
<span class="s">        wdt:P17 wd:Q30 ;</span>
<span class="s">        wdt:P571 &quot;1979-01-01&quot;^^xsd:date .</span>
<span class="s">EOF</span>

<span class="c1"># 2. Validate against tribe schema</span>
gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--rdf-file<span class="w"> </span>new_tribe.ttl<span class="w"> </span>--eid<span class="w"> </span>E502

<span class="c1"># 3. If validation passes, proceed with upload</span>
</code></pre></div>
<h3 id="batch-validation-of-existing-entities">Batch validation of existing entities</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Create list of QIDs to validate</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>tribes_to_check.txt<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
<span class="s">Q14708404</span>
<span class="s">Q3551781</span>
<span class="s">Q1948829</span>
<span class="s">Q4675719</span>
<span class="s">EOF</span>

<span class="c1"># Validate each entity</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>qid<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Checking </span><span class="nv">$qid</span><span class="s2">...&quot;</span>
<span class="w">  </span>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--qid<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$qid</span><span class="s2">&quot;</span><span class="w"> </span>--eid<span class="w"> </span>E502<span class="w"> </span>--json<span class="w"> </span>&gt;&gt;<span class="w"> </span>validation_report.jsonl
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>tribes_to_check.txt

<span class="c1"># Parse results</span>
jq<span class="w"> </span><span class="s1">&#39;select(.valid == false) | .qid&#39;</span><span class="w"> </span>validation_report.jsonl
</code></pre></div>
<h3 id="testing-schema-changes">Testing schema changes</h3>
<p>When developing new EntitySchemas, test them locally before publishing:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Create draft schema</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>draft_schema.shex<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
<span class="s">PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;</span>
<span class="s">PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;</span>

<span class="s">&lt;FederallyRecognizedTribe&gt; {</span>
<span class="s">  wdt:P31 [ wd:Q133346 ] ;</span>
<span class="s">  wdt:P17 [ wd:Q30 ] ;</span>
<span class="s">  wdt:P571 xsd:date ? ;</span>
<span class="s">  wdt:P576 xsd:date ?</span>
<span class="s">}</span>
<span class="s">EOF</span>

<span class="c1"># 2. Test against known good entity</span>
gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--qid<span class="w"> </span>Q14708404<span class="w"> </span>--schema-file<span class="w"> </span>draft_schema.shex

<span class="c1"># 3. Test against known problematic entity</span>
gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--qid<span class="w"> </span>Q999999<span class="w"> </span>--schema-file<span class="w"> </span>draft_schema.shex<span class="w"> </span>--verbose

<span class="c1"># 4. If tests pass, publish schema to Wikidata as new EntitySchema</span>
</code></pre></div>
<h3 id="comparing-entities-to-multiple-schemas">Comparing entities to multiple schemas</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check if entity conforms to multiple related schemas</span>
<span class="nv">schemas</span><span class="o">=(</span><span class="s2">&quot;E502&quot;</span><span class="w"> </span><span class="s2">&quot;E503&quot;</span><span class="w"> </span><span class="s2">&quot;E504&quot;</span><span class="o">)</span>

<span class="k">for</span><span class="w"> </span>eid<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">schemas</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="nv">result</span><span class="o">=</span><span class="k">$(</span>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--qid<span class="w"> </span>Q14708404<span class="w"> </span>--eid<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$eid</span><span class="s2">&quot;</span><span class="w"> </span>--json<span class="k">)</span>
<span class="w">  </span><span class="nv">valid</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$result</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.valid&#39;</span><span class="k">)</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$eid</span><span class="s2">: </span><span class="nv">$valid</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>
<hr />
<h2 id="common-entityschemas">Common EntitySchemas</h2>
<table>
<thead>
<tr>
<th>EID</th>
<th>Description</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.wikidata.org/wiki/EntitySchema:E502">E502</a></td>
<td>Federally recognized tribe</td>
<td>US tribal nations</td>
</tr>
<tr>
<td><a href="https://www.wikidata.org/wiki/EntitySchema:E49">E49</a></td>
<td>Human</td>
<td>Person/biographical items</td>
</tr>
<tr>
<td><a href="https://www.wikidata.org/wiki/EntitySchema:E10">E10</a></td>
<td>Place</td>
<td>Geographic locations</td>
</tr>
<tr>
<td><a href="https://www.wikidata.org/wiki/EntitySchema:E42">E42</a></td>
<td>Scholarly article</td>
<td>Scientific publications</td>
</tr>
</tbody>
</table>
<p>Browse all schemas: <a href="https://www.wikidata.org/wiki/Wikidata:EntitySchema">Wikidata:EntitySchema</a></p>
<hr />
<h2 id="exit-codes">Exit Codes</h2>
<table>
<thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Validation passed (entity conforms to schema)</td>
</tr>
<tr>
<td>1</td>
<td>Validation failed (entity does not conform to schema)</td>
</tr>
<tr>
<td>2</td>
<td>Error during validation process (missing files, network error, etc.)</td>
</tr>
</tbody>
</table>
<p>Use exit codes in scripts:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span>gkc<span class="w"> </span>shex<span class="w"> </span>validate<span class="w"> </span>--qid<span class="w"> </span>Q42<span class="w"> </span>--eid<span class="w"> </span>E49<span class="w"> </span>--json<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Q42 is a valid human entity&quot;</span>
<span class="k">else</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Q42 has validation issues&quot;</span>
<span class="k">fi</span>
</code></pre></div>
<hr />
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="../../api/shex/">ShEx API Documentation</a> - Python library usage</li>
<li><a href="../../utilities/">Utilities Guide</a> - ShEx validation concepts and patterns</li>
<li><a href="https://www.wikidata.org/wiki/Wikidata:EntitySchema">Wikidata EntitySchemas</a> - Browse published schemas</li>
<li><a href="http://shex.io/shex-primer/">ShEx Primer</a> - Learn ShEx syntax</li>
<li><a href="http://shex.io/shex-test/">ShEx Test Suite</a> - Additional validation examples</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.instant", "navigation.sections", "navigation.top", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../../javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>