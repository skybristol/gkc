
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Data Distillery - A framework for data distillation toward the Global Knowledge Commons">
      
      
      
        <link rel="canonical" href="https://datadistillery.org/gkc/profiles/">
      
      
        <link rel="prev" href="../background/">
      
      
        <link rel="next" href="../setup/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Entity Profiles - Data Distillery</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gkc-entity-profiles-construction-and-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Data Distillery" class="md-header__button md-logo" aria-label="Data Distillery" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Data Distillery
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Entity Profiles
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/skybristol/gkc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    skybristol/gkc
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Data Distillery" class="md-nav__button md-logo" aria-label="Data Distillery" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Data Distillery
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/skybristol/gkc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    skybristol/gkc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Data Curation Narratives
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data Curation Narratives
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tribes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tribal Governments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpiritSafe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpiritSafe
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/profile-loading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profile Loading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/spiritsafe-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpiritSafe Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/validation-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Validation Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    GKC Documentation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    GKC Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../background/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Background
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Entity Profiles
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity Profiles
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation Status
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#theoretical-design-notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Theoretical Design Notes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiles-and-gkc-wizards" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profiles and GKC Wizards
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profiles and GKC Wizards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-5-step-wizard-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        The 5-Step Wizard Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The 5-Step Wizard Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-plan-of-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Plan of Action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-basic-identification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Basic Identification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-cross-platform-links" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Cross-Platform Links
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-review-validate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Review &amp; Validate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-profile-elements-map-to-wizard-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Profile Elements Map to Wizard Steps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profiles-used-without-wizards" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profiles Used Without Wizards
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile-anatomy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Anatomy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profile Anatomy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#top-level-keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        Top-level Keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statement-keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statement Keys
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-policy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation Policy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation Policy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allow_existing_nonconforming-default-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        allow_existing_nonconforming (Default, Recommended)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strict" class="md-nav__link">
    <span class="md-ellipsis">
      
        strict
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statement-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statement Behavior
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Statement Behavior">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#behavior-keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        Behavior Keys
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Behavior Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#behaviorvalue" class="md-nav__link">
    <span class="md-ellipsis">
      
        behavior.value
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#behaviorqualifiers" class="md-nav__link">
    <span class="md-ellipsis">
      
        behavior.qualifiers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#behaviorreferences" class="md-nav__link">
    <span class="md-ellipsis">
      
        behavior.references
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-behavior-works-across-contexts" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Behavior Works Across Contexts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Behavior
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datatypes-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Datatypes Reference
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datatypes Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-item-item" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Item (item)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-string-string" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. String (string)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-url-url" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. URL (url)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-quantity-quantity" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Quantity (quantity)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-time-time" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Time (time)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-monolingualtext-monolingualtext" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Monolingualtext (monolingualtext)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-globecoordinate-globecoordinate" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Globecoordinate (globecoordinate)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-external-id-external-id" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. External-id (external-id)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-commons-media-commonsmedia" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Commons Media (commonsMedia)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraints-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constraints Reference
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#universal-constraint-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Universal Constraint Properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-constraint-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Constraint Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Constraint Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-constraints-regex-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Format Constraints (Regex Validation)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range-constraints-numeric-bounds" class="md-nav__link">
    <span class="md-ellipsis">
      
        Range Constraints (Numeric Bounds)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choice-list-constraints-sparql-backed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Choice List Constraints (SPARQL-backed)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        URL Validation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references-sourcing-and-provenance" class="md-nav__link">
    <span class="md-ellipsis">
      
        References: Sourcing and Provenance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="References: Sourcing and Provenance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reference Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reusable-reference-patterns-with-yaml-anchors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reusable Reference Patterns with YAML Anchors
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qualifiers-statement-modifiers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Qualifiers: Statement Modifiers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Qualifiers: Statement Modifiers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qualifier-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Qualifier Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-qualifier-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Qualifier Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-metadata-labels-descriptions-aliases-and-sitelinks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entity Metadata: Labels, Descriptions, Aliases, and Sitelinks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entity Metadata: Labels, Descriptions, Aliases, and Sitelinks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadata-in-wizard-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata in Wizard Workflows
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        Labels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Descriptions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aliases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aliases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitelinks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sitelinks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secondary-entities-and-profile-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        Secondary Entities and Profile References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Secondary Entities and Profile References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profile-reference-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Reference Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-profile-references-work-in-wizards" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Profile References Work in Wizards
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-profile-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to Use Profile References
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-tribal-government-with-position-entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Tribal Government with Position Entities
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-design-profiles-for-curator-mental-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Design Profiles for Curator Mental Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-keep-profiles-focused-and-cohesive" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Keep Profiles Focused and Cohesive
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-reusable-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Use Reusable Patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-document-constraints-clearly" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Document Constraints Clearly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-choose-validation-policy-and-behavior-intentionally" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Choose Validation Policy and Behavior Intentionally
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-leverage-sparql-for-choice-lists" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Leverage SPARQL for Choice Lists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-use-explicit-prefixes-in-sparql-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Use Explicit Prefixes in SPARQL Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-set-reasonable-refresh-policies-for-choice-lists" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Set Reasonable Refresh Policies for Choice Lists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-make-references-required-where-domain-appropriate" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Make References Required Where Domain-Appropriate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-test-profiles-with-wizard-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Test Profiles With Wizard Workflows
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example-federally-recognized-tribe-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Example: Federally Recognized Tribe Profile
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-building-your-own-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step-by-Step: Building Your Own Profile
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Future Enhancements
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup and Orientation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data Distillery Workflow
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data Distillery Workflow
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shipping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shipping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/mash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mash
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/mash_formatters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mash Formatters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/spirit_safe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SpiritSafe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/shex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ShEx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/shipper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shipper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/sparql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPARQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Command Line Interface
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Command Line Interface
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/mash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mash
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/shex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ShEx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Utilities and Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities and Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CI_CD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CI/CD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../RELEASE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation Status
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#theoretical-design-notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Theoretical Design Notes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiles-and-gkc-wizards" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profiles and GKC Wizards
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profiles and GKC Wizards">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-5-step-wizard-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        The 5-Step Wizard Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The 5-Step Wizard Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-plan-of-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Plan of Action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-basic-identification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Basic Identification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-statements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Statements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-cross-platform-links" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Cross-Platform Links
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-review-validate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Review &amp; Validate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-profile-elements-map-to-wizard-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Profile Elements Map to Wizard Steps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profiles-used-without-wizards" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profiles Used Without Wizards
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile-anatomy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Anatomy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profile Anatomy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#top-level-keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        Top-level Keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statement-keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statement Keys
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-policy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation Policy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation Policy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allow_existing_nonconforming-default-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        allow_existing_nonconforming (Default, Recommended)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strict" class="md-nav__link">
    <span class="md-ellipsis">
      
        strict
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statement-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statement Behavior
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Statement Behavior">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#behavior-keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        Behavior Keys
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Behavior Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#behaviorvalue" class="md-nav__link">
    <span class="md-ellipsis">
      
        behavior.value
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#behaviorqualifiers" class="md-nav__link">
    <span class="md-ellipsis">
      
        behavior.qualifiers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#behaviorreferences" class="md-nav__link">
    <span class="md-ellipsis">
      
        behavior.references
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-behavior-works-across-contexts" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Behavior Works Across Contexts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Behavior
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datatypes-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Datatypes Reference
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datatypes Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-item-item" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Item (item)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-string-string" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. String (string)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-url-url" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. URL (url)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-quantity-quantity" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Quantity (quantity)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-time-time" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Time (time)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-monolingualtext-monolingualtext" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Monolingualtext (monolingualtext)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-globecoordinate-globecoordinate" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Globecoordinate (globecoordinate)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-external-id-external-id" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. External-id (external-id)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-commons-media-commonsmedia" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Commons Media (commonsMedia)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constraints-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constraints Reference
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constraints Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#universal-constraint-properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Universal Constraint Properties
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-constraint-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Constraint Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Constraint Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-constraints-regex-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Format Constraints (Regex Validation)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range-constraints-numeric-bounds" class="md-nav__link">
    <span class="md-ellipsis">
      
        Range Constraints (Numeric Bounds)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choice-list-constraints-sparql-backed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Choice List Constraints (SPARQL-backed)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        URL Validation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references-sourcing-and-provenance" class="md-nav__link">
    <span class="md-ellipsis">
      
        References: Sourcing and Provenance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="References: Sourcing and Provenance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reference Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reusable-reference-patterns-with-yaml-anchors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reusable Reference Patterns with YAML Anchors
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qualifiers-statement-modifiers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Qualifiers: Statement Modifiers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Qualifiers: Statement Modifiers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qualifier-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Qualifier Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-qualifier-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Qualifier Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entity-metadata-labels-descriptions-aliases-and-sitelinks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entity Metadata: Labels, Descriptions, Aliases, and Sitelinks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entity Metadata: Labels, Descriptions, Aliases, and Sitelinks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadata-in-wizard-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata in Wizard Workflows
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        Labels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Descriptions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aliases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aliases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitelinks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sitelinks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secondary-entities-and-profile-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        Secondary Entities and Profile References
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Secondary Entities and Profile References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profile-reference-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Profile Reference Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-profile-references-work-in-wizards" class="md-nav__link">
    <span class="md-ellipsis">
      
        How Profile References Work in Wizards
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-profile-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to Use Profile References
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-tribal-government-with-position-entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example: Tribal Government with Position Entities
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-design-profiles-for-curator-mental-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Design Profiles for Curator Mental Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-keep-profiles-focused-and-cohesive" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Keep Profiles Focused and Cohesive
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-reusable-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Use Reusable Patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-document-constraints-clearly" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Document Constraints Clearly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-choose-validation-policy-and-behavior-intentionally" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Choose Validation Policy and Behavior Intentionally
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-leverage-sparql-for-choice-lists" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Leverage SPARQL for Choice Lists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-use-explicit-prefixes-in-sparql-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Use Explicit Prefixes in SPARQL Queries
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-set-reasonable-refresh-policies-for-choice-lists" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Set Reasonable Refresh Policies for Choice Lists
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-make-references-required-where-domain-appropriate" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Make References Required Where Domain-Appropriate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-test-profiles-with-wizard-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Test Profiles With Wizard Workflows
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example-federally-recognized-tribe-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Example: Federally Recognized Tribe Profile
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-building-your-own-profile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step-by-Step: Building Your Own Profile
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Future Enhancements
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="gkc-entity-profiles-construction-and-reference">GKC Entity Profiles: Construction and Reference</h1>
<p><strong>Plain Meaning:</strong> A comprehensive guide to building, structuring, and validating YAML profiles that define how <strong>GKC Entities</strong> are captured, validated, and transformed in the Global Knowledge Commons.</p>
<h2 id="overview">Overview</h2>
<p>Entity profiles are declarative, machine-readable definitions of entity structures that bridge raw user input and refined, cross-platform entity models. They encode:</p>
<ul>
<li><strong>What statements</strong> make up an entity (properties and their datatypes)</li>
<li><strong>How statements relate</strong> to Wikidata properties and external systems</li>
<li><strong>What constraints</strong> apply to each statement's values</li>
<li><strong>How to validate</strong> incoming data against those constraints</li>
<li><strong>How to reference</strong> sources and maintain provenance</li>
</ul>
<p>Profiles are YAML files that live in the SpiritSafe profile registry (<code>profiles/&lt;ProfileID&gt;/profile.yaml</code>) and are managed in version control in the dedicated SpiritSafe repository. They serve as both human-readable documentation and executable specifications that drive <strong>two distinct workflows</strong>:</p>
<ol>
<li><strong>GKC Wizards</strong>  Interactive, multi-step data entry interfaces where curators create and edit entities with guided input, validation, and choice lists</li>
<li><strong>Validation &amp; Coercion</strong>  Programmatic validation of existing data (from Wikidata, spreadsheets, APIs) using dynamically-generated Pydantic models</li>
</ol>
<p>This document focuses primarily on how to build profiles that drive successful wizard experiences while maintaining the validation rigor needed for bulk data processing.</p>
<hr />
<h2 id="implementation-status">Implementation Status</h2>
<p>The following profile capabilities are implemented and stable in current GKC architecture:</p>
<ul>
<li>YAML profile loading into typed profile models.</li>
<li>Statement, qualifier, reference, and datatype validation structures.</li>
<li>SPARQL allowed-items extraction and hydration workflows with fallback behavior.</li>
<li>Profile path and query reference resolution aligned to SpiritSafe registrant layout.</li>
</ul>
<p>For architecture-level implementation details, see:</p>
<ul>
<li><a href="../../architecture/">Architecture Overview</a></li>
<li><a href="../../architecture/profile-loading/">Profile Loading Architecture</a></li>
<li><a href="../../architecture/spiritsafe-infrastructure/">SpiritSafe Infrastructure</a></li>
<li><a href="../../architecture/validation-architecture/">Validation Architecture</a></li>
</ul>
<h2 id="theoretical-design-notes">Theoretical Design Notes</h2>
<p>Some sections in this document describe wizard behavior and curator flow targets that are directionally committed but not fully implemented end-to-end in a single production UI stack.</p>
<p>Treat those sections as architecture guidance for future Wizard Engineer and Validation Agent implementation work, not as guaranteed current runtime behavior.</p>
<hr />
<h2 id="profiles-and-gkc-wizards">Profiles and GKC Wizards</h2>
<p><strong>GKC Wizards</strong> are the primary curator-facing interface for working with entity profiles. A wizard is a multi-step, guided workflow that transforms a YAML profile into an interactive data-entry experience. Every field, validation rule, prompt, and choice list comes directly from the profilewizards have no hardcoded forms or entity-specific logic.</p>
<h3 id="the-5-step-wizard-structure">The 5-Step Wizard Structure</h3>
<p>Every wizard follows a consistent 5-step progression designed with a curator mental model in mind:</p>
<h4 id="step-1-plan-of-action"><strong>Step 1: Plan of Action</strong></h4>
<p>A summary screen that explains:</p>
<ul>
<li>What type of entity will be created (drawn from profile <code>name</code> and <code>description</code>)</li>
<li>What the wizard will ask for (metadata, required statements, optional statements, cross-platform links)</li>
<li><strong>Secondary entities</strong> that may need to be created or linked (e.g., government positions, related organizations)</li>
<li>How long the process will take and what sources/references the curator should have ready</li>
</ul>
<p>This step sets expectations and helps curators gather the right information before starting data entry.</p>
<h4 id="step-2-basic-identification"><strong>Step 2: Basic Identification</strong></h4>
<p>Primary entity metadata:</p>
<ul>
<li><strong>Labels</strong> (one per language, required languages determined by profile)</li>
<li><strong>Descriptions</strong> (one per language, must be distinctive and disambiguating)</li>
<li><strong>Aliases</strong> (multiple per language, includes alternative names, historical names)</li>
</ul>
<p>Each field shows <code>input_prompt</code> and <code>guidance</code> from the profile. Required languages are validated before progression.</p>
<h4 id="step-3-statements"><strong>Step 3: Statements</strong></h4>
<p>All statements about the entity:</p>
<ul>
<li>Profile's community-curated statement ordering determines presentation sequence</li>
<li><strong>Any statement can be skipped</strong> with explicit "Skip this statement" option</li>
<li>Each statement includes:</li>
<li>Value input (widget determined by datatype)</li>
<li><strong>Qualifiers</strong> (nested under statement)</li>
<li><strong>References</strong> (behavior.references determines whether shown, auto-derived, or hidden)</li>
<li>"Add another" button for multi-count statements (<code>max_count &gt; 1</code> or <code>max_count: null</code>)</li>
</ul>
<p>Validation occurs per-field (on blur) and per-statement (when complete). <strong>No validation blocks progression</strong>curators can advance even with incomplete data. Missing statements generate suggestions in the review step.</p>
<p><strong>Philosophy</strong>: Following Wikidata/Wikipedia principles, curators can create minimal entities quickly and enhance them later. The wizard guides toward completeness but never forces it.</p>
<h4 id="step-4-cross-platform-links"><strong>Step 4: Cross-Platform Links</strong></h4>
<p>Sitelinks and external platform connections:</p>
<ul>
<li><strong>Wikipedia articles</strong> (per language, with conflict detection)</li>
<li><strong>Wikimedia Commons</strong> categories or files</li>
<li><strong>OpenStreetMap</strong> relations (for geographic entities)</li>
<li><strong>Other wiki projects</strong> as defined in profile <code>sitelinks</code> section</li>
</ul>
<p>Each sitelink validates format and checks for uniqueness conflicts (one sitelink per language+project across all Wikidata).</p>
<h4 id="step-5-review-validate"><strong>Step 5: Review &amp; Validate</strong></h4>
<p>Comprehensive summary and validation:</p>
<ul>
<li><strong>All collected data</strong> grouped by section (metadata, statements, sitelinks)</li>
<li><strong>What's missing</strong>: Community-expected statements that were skipped (helps curators understand completeness)</li>
<li><strong>Secondary entities identified</strong> during statement entry (if any need creation, wizard offers to branch)</li>
<li><strong>Full validation results</strong>: errors (data type/format issues), warnings (conformance issues), suggestions (statements worth considering)</li>
<li><strong>Quality score</strong> and conformance indicators</li>
<li><strong>Actions</strong>:</li>
<li>Edit any section (returns to that step)</li>
<li>Export to JSON (save locally without shipping)</li>
<li>Ship to Wikidata (write via API, create Commons connections, update OSM if applicable)</li>
</ul>
<p><strong>Curators can ship even with warnings and suggestions</strong>only true errors (malformed data) block shipping. Skipped statements appear as suggestions: "Consider adding: official website, member count" with quick-add options.</p>
<h3 id="how-profile-elements-map-to-wizard-steps">How Profile Elements Map to Wizard Steps</h3>
<table>
<thead>
<tr>
<th>Profile Element</th>
<th>Wizard Step</th>
<th>Wizard Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code>, <code>description</code></td>
<td>Step 1 (Plan)</td>
<td>Displayed as "You will create..." summary</td>
</tr>
<tr>
<td><code>labels</code>, <code>descriptions</code>, <code>aliases</code></td>
<td>Step 2 (Identification)</td>
<td>Per-language inputs, required languages enforced</td>
</tr>
<tr>
<td><code>statements</code></td>
<td>Step 3 (Statements)</td>
<td>All statements presented in profile order, all skippable</td>
</tr>
<tr>
<td><code>qualifiers</code></td>
<td>Step 3 (nested)</td>
<td>Nested under parent statement</td>
</tr>
<tr>
<td><code>references</code></td>
<td>Step 3 (nested)</td>
<td>Behavior determined by <code>behavior.references</code> (auto-derived, editable, or hidden)</td>
</tr>
<tr>
<td><code>sitelinks</code></td>
<td>Step 4 (Links)</td>
<td>Per-project inputs, conflict validation</td>
</tr>
<tr>
<td>All data + validation</td>
<td>Step 5 (Review)</td>
<td>Summary view with validation report and community completeness suggestions</td>
</tr>
</tbody>
</table>
<h3 id="profiles-used-without-wizards">Profiles Used Without Wizards</h3>
<p>Profiles also support <strong>non-interactive workflows</strong> where no wizard is involved:</p>
<ul>
<li><strong>Bulk validation</strong>: Validate thousands of Wikidata items against a profile, generating conformance reports</li>
<li><strong>Data coercion</strong>: Normalize and transform data from external sources (spreadsheets, APIs) into Wikidata-conformant structures</li>
<li><strong>Programmatic entity creation</strong>: Generate entities from code without user interaction (e.g., automated bots)</li>
<li><strong>Quality analysis</strong>: Scan existing Wikidata content to identify gaps or constraint violations</li>
</ul>
<p>In these workflows, profiles are loaded into dynamically-generated Pydantic models that provide validation and type coercion. The <code>validation_policy</code> and <code>behavior</code> settings still applyfor example, <code>behavior.references: auto_derive</code> will generate references automatically even in bulk operations.</p>
<p><strong>Key distinction</strong>: Wizard-driven workflows are <strong>curator-centric</strong> (interactive, guided, with prompts and choice lists). Validation-driven workflows are <strong>programmatic</strong> (batch processing, no UI, focused on conformance checking).</p>
<hr />
<h2 id="profile-anatomy">Profile Anatomy</h2>
<p>A SpiritSafe YAML profile has this essential structure:</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Entity Type Name</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">  </span><span class="no">Multi-line description of what this profile represents</span>
<span class="w">  </span><span class="no">and what kinds of entities it covers.</span>

<span class="c1"># Optional: Reusable reference patterns (via YAML anchors)</span>
<span class="nt">standard_reference</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;standard_reference</span>
<span class="w">  </span><span class="nt">min_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="c1"># ... reference structure</span>

<span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement_identifier</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Human-readable label</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P123</span><span class="w">  </span><span class="c1"># Wikidata property ID</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span><span class="w">           </span><span class="c1"># Always &quot;statement&quot; for now</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">              </span><span class="c1"># null = unlimited</span>
<span class="w">    </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allow_existing_nonconforming</span>

<span class="w">    </span><span class="nt">behavior</span><span class="p">:</span><span class="w">  </span><span class="c1"># Optional: control processing across all GKC operations</span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">       </span><span class="c1"># or fixed, hidden</span>
<span class="w">      </span><span class="nt">qualifiers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">  </span><span class="c1"># or hidden</span>
<span class="w">      </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">  </span><span class="c1"># or auto_derive, hidden</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w">  </span><span class="c1"># Datatype</span>
<span class="w">      </span><span class="nt">constraints</span><span class="p">:</span><span class="w">  </span><span class="c1"># Statement-level constraints</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">          </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;[A-Z0-9]+&#39;</span>

<span class="w">    </span><span class="nt">qualifiers</span><span class="p">:</span><span class="w">  </span><span class="c1"># (optional) properties that modify the main statement</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qualifier_id</span>
<span class="w">        </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Qualifier label</span>
<span class="w">        </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P456</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w">  </span><span class="c1"># (optional) sources and citations</span>
<span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">min_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">allowed</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">source_id</span>
<span class="w">          </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P248</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">          </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stated in</span>
</code></pre></div>
<h3 id="top-level-keys">Top-level Keys</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Required</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>YES</td>
<td>Profile name displayed to users and in logs</td>
</tr>
<tr>
<td><code>description</code></td>
<td>string</td>
<td>YES</td>
<td>Multi-line explanation of profile scope</td>
</tr>
<tr>
<td><code>statements</code></td>
<td>array</td>
<td>YES</td>
<td>List of statement definitions</td>
</tr>
<tr>
<td><em>Anchors</em></td>
<td>any</td>
<td>NO</td>
<td>YAML anchors for reusable patterns (e.g., <code>&amp;standard_reference</code>)</td>
</tr>
</tbody>
</table>
<h3 id="statement-keys">Statement Keys</h3>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Required</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>string</td>
<td>YES</td>
<td>Unique identifier (snake_case)</td>
</tr>
<tr>
<td><code>label</code></td>
<td>string</td>
<td>YES</td>
<td>Human-readable display name</td>
</tr>
<tr>
<td><code>input_prompt</code></td>
<td>string</td>
<td>NO</td>
<td>Curator-facing prompt shown in wizard</td>
</tr>
<tr>
<td><code>guidance</code></td>
<td>string</td>
<td>NO</td>
<td>Extended help text for curators</td>
</tr>
<tr>
<td><code>wikidata_property</code></td>
<td>string</td>
<td>YES</td>
<td>Wikidata property ID (e.g., "P31")</td>
</tr>
<tr>
<td><code>type</code></td>
<td>string</td>
<td>YES</td>
<td>Always "statement" (for now)</td>
</tr>
<tr>
<td><code>max_count</code></td>
<td>int or null</td>
<td>NO</td>
<td>Max statements allowed (null = unlimited); determines "Add another" button visibility</td>
</tr>
<tr>
<td><code>validation_policy</code></td>
<td>enum</td>
<td>NO</td>
<td>How to handle existing data (see <a href="#validation-policy">Validation Policy</a>)</td>
</tr>
<tr>
<td><code>behavior</code></td>
<td>object</td>
<td>NO</td>
<td>Universal processing rules for value, qualifiers, and references across all GKC operations (see <a href="#statement-behavior">Statement Behavior</a>)</td>
</tr>
<tr>
<td><code>entity_profile</code></td>
<td>string</td>
<td>NO</td>
<td>Filename reference to another GKC Entity Profile for secondary entities (see <a href="#secondary-entities-and-profile-references">Secondary Entities</a>); enables wizard chaining</td>
</tr>
<tr>
<td><code>value</code></td>
<td>object</td>
<td>YES</td>
<td>Value definition (datatype + constraints)</td>
</tr>
<tr>
<td><code>qualifiers</code></td>
<td>array</td>
<td>NO</td>
<td>Qualifier definitions (nested in wizard step 3)</td>
</tr>
<tr>
<td><code>references</code></td>
<td>object</td>
<td>NO</td>
<td>Reference definition (includes derivation rules)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="validation-policy">Validation Policy</h2>
<p>The <code>validation_policy</code> enum controls how strict validation is when working with existing Wikidata data, affecting both interactive wizard workflows and programmatic validation workflows.</p>
<p><strong><code>validation_policy</code></strong> determines how strict validation is when working with existing Wikidata data.</p>
<h4 id="allow_existing_nonconforming-default-recommended"><code>allow_existing_nonconforming</code> (Default, Recommended)</h4>
<p><strong>What it means:</strong>
- New data must conform to all profile constraints
- Existing data in Wikidata that doesn't conform is allowed to remain
- Validation warnings are issued for non-conforming existing data, but they don't block operations</p>
<p><strong>When to use:</strong>
- Almost alwaysthis is the recommended default
- When working with mature Wikidata items that may have legacy data
- When profile constraints are stricter than historical Wikidata practices
- When you want to improve data quality incrementally without breaking existing items</p>
<p><strong>Wizard behavior:</strong>
- When editing existing items, pre-populated fields may show non-conforming data with warning indicators
- Curators can choose to fix warnings or leave them as-is
- New statements added during the wizard session should conform (warnings shown if not)
- Review step shows warnings for existing non-conforming data but <strong>always allows shipping</strong>
- Philosophy: Get the data in, refine it later</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance_of</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P31</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allow_existing_nonconforming</span><span class="w">  </span><span class="c1"># Existing items may have multiple P31 values</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">  </span><span class="c1"># But new items should only have one</span>
</code></pre></div></p>
<h4 id="strict"><code>strict</code></h4>
<p><strong>What it means:</strong>
- All data must conform to profile constraints, whether new or existing
- Non-conforming existing data triggers validation errors that block operations
- No tolerance for deviations from the profile</p>
<p><strong>When to use:</strong>
- When working with newly-created entity types with no legacy data
- When profile constraints match established Wikidata community norms exactly
- When conformance is critical (e.g., regulatory compliance, legal requirements)
- When you control all existing data and can guarantee conformance</p>
<p><strong>Wizard behavior:</strong>
- When editing existing items, non-conforming data triggers errors
- Curators see errors and are <strong>strongly encouraged</strong> to fix them before shipping
- Review step shows prominent error indicators but <strong>still allows shipping</strong> (with confirmation)
- Philosophy: Even in strict mode, contribution is more important than perfection</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">headquarters_location</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P159</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">strict</span><span class="w">  </span><span class="c1"># When present, must have exactly the qualifiers we define</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div></p>
<hr />
<h2 id="statement-behavior">Statement Behavior</h2>
<p>The <code>behavior</code> object defines <strong>universal processing rules</strong> for how a statement is handled across all GKC operationsinteractive wizards, bulk data imports, validation workflows, and programmatic entity creation. These are profile-level data transformation rules, not just UI presentation hints.</p>
<p>Each statement has three components that can be controlled independently:
1. <strong>Value</strong> (the main statement content)
2. <strong>Qualifiers</strong> (contextual modifiers on the statement)
3. <strong>References</strong> (source citations)</p>
<h3 id="behavior-keys">Behavior Keys</h3>
<div class="highlight"><pre><span></span><code><span class="nt">behavior</span><span class="p">:</span>
<span class="w">  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable | fixed | hidden</span>
<span class="w">  </span><span class="nt">qualifiers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable | hidden</span>
<span class="w">  </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable | auto_derive | hidden</span>
</code></pre></div>
<h4 id="behaviorvalue"><code>behavior.value</code></h4>
<p>Controls how the statement value is processed.</p>
<p><strong><code>editable</code> (default):</strong>
- User/process can set any valid value conforming to datatype constraints
- In wizards: full input widget shown based on datatype
- In bulk operations: value read from input data (CSV, JSON, etc.)</p>
<p><strong><code>fixed</code>:</strong>
- Value must match <code>value.fixed</code> - locked across all operations
- In wizards: shown as read-only badge with label (e.g., "federally recognized Native American tribe in the United States")
- In bulk operations: value auto-populated from profile, not expected in input data
- In validation: flags error if existing value doesn't match <code>value.fixed</code></p>
<p><strong><code>hidden</code>:</strong>
- Statement not shown in forms or expected in bulk data
- Reserved for future use (computed values, deprecated fields)</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance_of</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Instance of</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P31</span>

<span class="w">    </span><span class="nt">behavior</span><span class="p">:</span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fixed</span><span class="w">           </span><span class="c1"># Value locked to Q7840353 in all contexts</span>
<span class="w">      </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">    </span><span class="c1"># References manually provided</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">      </span><span class="nt">fixed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q7840353</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">federally recognized Native American tribe in the United States</span>
</code></pre></div></p>
<h4 id="behaviorqualifiers"><code>behavior.qualifiers</code></h4>
<p>Controls how qualifiers are processed.</p>
<p><strong><code>editable</code> (default):</strong>
- User/process can add qualifiers as defined in <code>qualifiers</code> array
- In wizards: qualifier inputs shown nested under statement
- In bulk operations: qualifiers read from input data</p>
<p><strong><code>hidden</code>:</strong>
- Qualifiers not shown in forms or expected in bulk data
- Use when qualifiers exist in schema but shouldn't be collected for this entity type</p>
<p><strong>Example:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">official_website</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P856</span>

<span class="w">    </span><span class="nt">behavior</span><span class="p">:</span>
<span class="w">      </span><span class="nt">qualifiers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">  </span><span class="c1"># Show language_of_work qualifier</span>

<span class="w">    </span><span class="nt">qualifiers</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">language_of_work</span>
<span class="w">        </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P407</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">          </span><span class="nt">fixed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q1860</span><span class="w">  </span><span class="c1"># English</span>
</code></pre></div></p>
<h4 id="behaviorreferences"><code>behavior.references</code></h4>
<p>Controls how references are processed and where their values come from.</p>
<p><strong><code>editable</code> (default):</strong>
- User/process manually provides all reference details
- In wizards: full reference entry controls shown (type selector + value inputs)
- In bulk operations: references read from input data
- All <code>allowed</code> reference types available for selection</p>
<p><strong><code>auto_derive</code>:</strong>
- References automatically generated using <code>value_source</code> rules
- In wizards: reference section hidden or shows "auto-generated" indicator
- In bulk operations: references created automatically from statement value
- Common pattern: official website URL becomes reference URL</p>
<p><strong><code>hidden</code>:</strong>
- No references shown, collected, or required
- Use sparinglymost Wikidata statements should have references</p>
<p><strong>Example - Auto-derived references:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">official_website</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P856</span>

<span class="w">    </span><span class="nt">behavior</span><span class="p">:</span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span>
<span class="w">      </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auto_derive</span><span class="w">  </span><span class="c1"># Generate P854 from P856 automatically</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span>
<span class="w">      </span><span class="nt">min_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">target</span><span class="p">:</span>
<span class="w">        </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reference_url</span>
<span class="w">        </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P854</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url</span>
<span class="w">        </span><span class="nt">value_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement_value</span><span class="w">  </span><span class="c1"># Derivation rule: P854 = P856</span>
</code></pre></div></p>
<p><strong>Example - Manual references with choice:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">member_count</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P2124</span>

<span class="w">    </span><span class="nt">behavior</span><span class="p">:</span>
<span class="w">      </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">  </span><span class="c1"># Curator chooses reference type</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">quantity</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span>
<span class="w">      </span><span class="nt">min_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">allowed</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stated_in</span>
<span class="w">          </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P248</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reference_url</span>
<span class="w">          </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P854</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url</span>
</code></pre></div></p>
<h3 id="how-behavior-works-across-contexts">How Behavior Works Across Contexts</h3>
<p><strong>Interactive Wizard:</strong>
- <code>behavior.value: fixed</code>  renders as read-only badge
- <code>behavior.references: auto_derive</code>  hides reference input, shows "auto-generated" note
- <code>behavior.references: editable</code>  shows reference type selector and value inputs</p>
<p><strong>Bulk CSV Import:</strong>
<div class="highlight"><pre><span></span><code>qid,official_website
Q123,https://cherokeenation.com
Q456,https://navajo-nsn.gov
</code></pre></div></p>
<p>Profile processor reads <code>behavior.references: auto_derive</code> and automatically:
- Creates P856 statement with URL from CSV
- Creates P854 reference with same URL (no reference column needed in CSV)</p>
<p><strong>Validation Workflow:</strong>
<div class="highlight"><pre><span></span><code><span class="n">validator</span><span class="o">.</span><span class="n">check_entity</span><span class="p">(</span><span class="n">qid</span><span class="o">=</span><span class="s2">&quot;Q789&quot;</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="s2">&quot;TribalGovernmentUS&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>Validator reads <code>behavior</code>:
- Checks <code>behavior.value: fixed</code> on instance_of  validates P31 = Q7840353
- Checks <code>behavior.references: auto_derive</code> on official_website  if P856 exists without P854 or P854  P856, flags non-conforming
- Applies rules consistently regardless of how entity was created</p>
<h3 id="default-behavior">Default Behavior</h3>
<p>If <code>behavior</code> is omitted, defaults are:</p>
<div class="highlight"><pre><span></span><code><span class="nt">behavior</span><span class="p">:</span>
<span class="w">  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">         </span><span class="c1"># Unless value.fixed is set, then value: fixed</span>
<span class="w">  </span><span class="nt">qualifiers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">    </span><span class="c1"># If qualifiers array defined</span>
<span class="w">  </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">    </span><span class="c1"># Unless target.value_source set, then auto_derive</span>
</code></pre></div>
<p>Profile authors can omit <code>behavior</code> for standard statements and only specify it when special handling is needed.</p>
<hr />
<h2 id="datatypes-reference">Datatypes Reference</h2>
<p>SpiritSafe supports 9 core Wikidata datatypes. Each has specific use cases, constraint options, and validation behaviors.</p>
<h3 id="1-item-item">1. Item (<code>item</code>)</h3>
<p><strong>Wikidata type:</strong> <code>wikibase-entityid</code><br />
<strong>Use cases:</strong> entity references, enums with bounded choice lists<br />
<strong>Form widget:</strong> Autocomplete or select dropdown</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">  </span><span class="nt">fixed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q5</span><span class="w">  </span><span class="c1"># (optional) Lock to specific item</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">human</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allowed_items</span>
<span class="w">      </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sparql</span>
<span class="w">      </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SELECT ?item ?itemLabel WHERE { ... }</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>allowed_items</code> - SPARQL query for choice list
- <code>fixed</code> - item value must be exactly this QID</p>
<p><strong>Validation:</strong> Checks that value is a valid QID and (if specified) exists in choice list.</p>
<hr />
<h3 id="2-string-string">2. String (<code>string</code>)</h3>
<p><strong>Wikidata type:</strong> <code>string</code><br />
<strong>Use cases:</strong> Names, identifiers, free text<br />
<strong>Form widget:</strong> Text input</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">      </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^[A-Z0-9\-]+$&#39;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">length</span>
<span class="w">      </span><span class="nt">min_length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">max_length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>format</code> - regex pattern for validation
- <code>length</code> - min/max string length</p>
<p><strong>Validation:</strong> Matches against regex pattern and length bounds.</p>
<hr />
<h3 id="3-url-url">3. URL (<code>url</code>)</h3>
<p><strong>Wikidata type:</strong> <code>string</code> (with datatype="url")<br />
<strong>Use cases:</strong> Website links, reference URLs, external system links<br />
<strong>Form widget:</strong> URL input (with validation)</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url_scheme</span>
<span class="w">      </span><span class="nt">allowed_schemes</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;http&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;https&#39;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url_validation</span>
<span class="w">      </span><span class="nt">validate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Check URL returns valid HTTP response</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>url_scheme</code> - Allowed protocols (http, https, ftp, etc.)
- <code>url_validation</code> - HTTP HEAD validation</p>
<p><strong>Validation:</strong> Parses as valid URL and optionally checks HTTP response.</p>
<hr />
<h3 id="4-quantity-quantity">4. Quantity (<code>quantity</code>)</h3>
<p><strong>Wikidata type:</strong> <code>quantity</code><br />
<strong>Use cases:</strong> Counts, measurements, amounts<br />
<strong>Form widget:</strong> Number input + unit selector</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">quantity</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">integer_only</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Must be whole number (no decimals)</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">range</span>
<span class="w">      </span><span class="nt">min_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">max_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10000</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unit</span>
<span class="w">      </span><span class="nt">default_unit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q199</span><span class="w">  </span><span class="c1"># Number (dimensionless)</span>
<span class="w">      </span><span class="nt">allowed_units</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q199</span><span class="w">  </span><span class="c1"># Number</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q11588322</span><span class="w">  </span><span class="c1"># Second</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>integer_only</code> - No decimal places
- <code>range</code> - Min/max numeric bounds
- <code>unit</code> - Unit system specification</p>
<p><strong>Validation:</strong> Checks numeric type and value bounds. Converts to Wikidata quantity format with unit and precision.</p>
<hr />
<h3 id="5-time-time">5. Time (<code>time</code>)</h3>
<p><strong>Wikidata type:</strong> <code>time</code><br />
<strong>Use cases:</strong> Dates, years, temporal ranges<br />
<strong>Form widget:</strong> Date picker / text input with fuzzy parsing</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">time</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">precision</span>
<span class="w">      </span><span class="nt">allowed_precisions</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">9</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">11</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># year, month, day</span>
<span class="w">      </span><span class="nt">auto_derive</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Infer precision from input format</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">calendar_model</span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q1985727</span><span class="w">  </span><span class="c1"># Gregorian calendar</span>
<span class="w">      </span><span class="nt">allowed_calendars</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q1985727</span><span class="w">  </span><span class="c1"># Gregorian</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q12138</span><span class="w">    </span><span class="c1"># Julian (historical)</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">      </span><span class="nt">patterns</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;YYYY&#39;</span><span class="w">           </span><span class="c1"># Year only</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;YYYY-MM&#39;</span><span class="w">        </span><span class="c1"># Year-month</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;YYYY-MM-DD&#39;</span><span class="w">     </span><span class="c1"># Full date</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>precision</code> - Allowed precision levels (year/month/day/hour/etc.)
- <code>calendar_model</code> - Calendar system (Gregorian vs. Julian)
- <code>auto_derive</code> - Automatically determine precision from input</p>
<p><strong>Validation:</strong> Parses various date formats, derives precision, normalizes to Wikidata time format <code>+YYYY-MM-DDTHH:MM:SSZ</code>.</p>
<hr />
<h3 id="6-monolingualtext-monolingualtext">6. Monolingualtext (<code>monolingualtext</code>)</h3>
<p><strong>Wikidata type:</strong> <code>monolingualtext</code><br />
<strong>Use cases:</strong> Text in specific languages (names, descriptions, addresses)<br />
<strong>Form widget:</strong> Text input + language selector</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">monolingualtext</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">language_required</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Must specify language code</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">valid_language_code</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Must be valid Wikimedia language code</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>language_required</code> - Language code is mandatory
- <code>valid_language_code</code> - Must match Wikimedia language code list</p>
<p><strong>Storage:</strong> Internally stored as <code>{text: string, language: string}</code> tuple.</p>
<p><strong>Validation:</strong> Validates language code against Wikimedia language list. Normalizes text and language code.</p>
<hr />
<h3 id="7-globecoordinate-globecoordinate">7. Globecoordinate (<code>globecoordinate</code>)</h3>
<p><strong>Wikidata type:</strong> <code>globecoordinate</code><br />
<strong>Use cases:</strong> Geographic coordinates, locations, buildings<br />
<strong>Form widget:</strong> Map picker or lat/long input boxes</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">globecoordinate</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">valid_coordinates</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Latitude -90 to 90, longitude -180 to 180</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">precision</span>
<span class="w">      </span><span class="nt">min_precision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0001</span><span class="w">   </span><span class="c1"># ~11m (building-level)</span>
<span class="w">      </span><span class="nt">max_precision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span><span class="w">     </span><span class="c1"># ~1km (city-level)</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">globe</span>
<span class="w">      </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q2</span><span class="w">  </span><span class="c1"># Earth</span>
<span class="w">      </span><span class="nt">allowed_globes</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q2</span><span class="w">  </span><span class="c1"># Earth</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>valid_coordinates</code> - Latitude/longitude bounds
- <code>precision</code> - Coordinate precision bounds (in degrees)
- <code>globe</code> - Which celestial body (Earth, Mars, etc.)</p>
<p><strong>Storage:</strong> Internally stored as <code>{latitude: float, longitude: float, precision: float, globe: string}</code>.</p>
<p><strong>Validation:</strong> Checks coordinate bounds and precision range. Converts to Wikidata globe coordinate format.</p>
<hr />
<h3 id="8-external-id-external-id">8. External-id (<code>external-id</code>)</h3>
<p><strong>Wikidata type:</strong> <code>external-id</code> (string with special handling)<br />
<strong>Use cases:</strong> IDs from external systems (OSM, DOI, ISBN, etc.)<br />
<strong>Form widget:</strong> Text input (with validation against external system)</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-id</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Pattern for valid ID format</span>
<span class="w">      </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^\d+$&#39;</span><span class="w">  </span><span class="c1"># Numeric only</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">formatter_url</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Wikidata property formatter URL</span>
<span class="w">      </span><span class="nt">url_pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;http://www.openstreetmap.org/relation/$1&#39;</span>
<span class="w">      </span><span class="nt">validate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">validation_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http_head</span><span class="w">  </span><span class="c1"># Check URL validity</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external_system</span>
<span class="w">      </span><span class="nt">system</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OpenStreetMap</span>
<span class="w">      </span><span class="nt">url_base</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;http://www.openstreetmap.org/relation/&#39;</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>format</code> - Regex pattern for ID format
- <code>formatter_url</code> - Wikidata P1630 (formatter URL) pattern
- <code>external_system</code> - External system metadata</p>
<p><strong>Validation:</strong> Matches regex pattern. Optionally validates formatted URL with HTTP HEAD request.</p>
<p><strong>Note:</strong> External IDs are considered <em>declarative</em> statements from data curators and typically don't require references.</p>
<hr />
<h3 id="9-commons-media-commonsmedia">9. Commons Media (<code>commonsMedia</code>)</h3>
<p><strong>Wikidata type:</strong> <code>commonsMedia</code> (string filename with special handling)<br />
<strong>Use cases:</strong> Media files on Wikimedia Commons (images, audio, video)<br />
<strong>Form widget:</strong> File selector / file upload stub</p>
<div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">commonsMedia</span>
<span class="w">  </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file_exists</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File must exist on Wikimedia Commons</span>
<span class="w">      </span><span class="nt">validate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">validation_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">commons_api</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file_type</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Allowed file formats</span>
<span class="w">      </span><span class="nt">allowed_types</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;image/svg+xml&#39;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;image/png&#39;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;image/jpeg&#39;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">wikidata_constraint</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Commons file must have specific properties</span>
<span class="w">      </span><span class="nt">required_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P6216</span><span class="w">  </span><span class="c1"># License</span>
</code></pre></div>
<p><strong>Key constraint types:</strong>
- <code>file_exists</code> - Check file exists on Commons
- <code>file_type</code> - MIME type restrictions
- <code>wikidata_constraint</code> - Required properties on Commons file</p>
<p><strong>Storage:</strong> Stored as filename string (e.g., "Flag.svg").</p>
<p><strong>Validation:</strong> Checks file exists on Commons via API. Validates file format and licensing metadata.</p>
<hr />
<h2 id="constraints-reference">Constraints Reference</h2>
<p>Constraints are the validation rules applied to statement values. They enforce business logic, external system compliance, and data quality.</p>
<h3 id="universal-constraint-properties">Universal Constraint Properties</h3>
<p>All constraints share these properties:</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">constraint_type_name</span><span class="w">     </span><span class="c1"># Identifier (required)</span>
<span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Human-readable</span><span class="w">    </span><span class="c1"># Description (required)</span>
<span class="w">  </span><span class="c1"># + type-specific properties</span>
</code></pre></div>
<h3 id="common-constraint-patterns">Common Constraint Patterns</h3>
<h4 id="format-constraints-regex-validation">Format Constraints (Regex Validation)</h4>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">  </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^[A-Z0-9]{3,10}$&#39;</span><span class="w">  </span><span class="c1"># Alphanumeric, 3-10 chars</span>
<span class="w">  </span><span class="nt">message</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Must</span><span class="nv"> </span><span class="s">be</span><span class="nv"> </span><span class="s">3-10</span><span class="nv"> </span><span class="s">alphanumeric</span><span class="nv"> </span><span class="s">characters&#39;</span>
</code></pre></div>
<h4 id="range-constraints-numeric-bounds">Range Constraints (Numeric Bounds)</h4>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">range</span>
<span class="w">  </span><span class="nt">min_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">  </span><span class="nt">max_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">  </span><span class="nt">message</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Must</span><span class="nv"> </span><span class="s">be</span><span class="nv"> </span><span class="s">between</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">100&#39;</span>
</code></pre></div>
<h4 id="choice-list-constraints-sparql-backed">Choice List Constraints (SPARQL-backed)</h4>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allowed_items</span>
<span class="w">  </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sparql</span>
<span class="w">  </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">SELECT ?item ?itemLabel</span>
<span class="w">    </span><span class="no">WHERE {</span>
<span class="w">      </span><span class="no">?item wdt:P31 wd:Q5 .</span>
<span class="w">      </span><span class="no">SERVICE wikibase:label { bd:serviceParam wikibase:language &quot;en&quot; }</span>
<span class="w">    </span><span class="no">}</span>
<span class="w">  </span><span class="nt">refresh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daily</span><span class="w">  </span><span class="c1"># or manual, weekly, on_release</span>
<span class="w">  </span><span class="nt">fallback_items</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q123</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Fallback option</span>
</code></pre></div>
<h4 id="url-validation">URL Validation</h4>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">formatter_url</span>
<span class="w">  </span><span class="nt">url_pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;http://example.com/item/$1&#39;</span>
<span class="w">  </span><span class="nt">validate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">validation_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http_head</span>
<span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">  </span><span class="c1"># seconds</span>
</code></pre></div>
<hr />
<h2 id="references-sourcing-and-provenance">References: Sourcing and Provenance</h2>
<p>References document the origin and authority of statements. Wikidata supports multiple reference patterns:</p>
<h3 id="reference-structure">Reference Structure</h3>
<div class="highlight"><pre><span></span><code><span class="nt">references</span><span class="p">:</span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">              </span><span class="c1"># Are references mandatory?</span>
<span class="w">  </span><span class="nt">min_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">                </span><span class="c1"># Minimum number of references</span>
<span class="w">  </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allow_existing_nonconforming</span>
<span class="w">  </span><span class="nt">form_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">target_only</span><span class="w">    </span><span class="c1"># or show_all</span>

<span class="w">  </span><span class="c1"># Option 1: Single target (exactly one reference type allowed)</span>
<span class="w">  </span><span class="nt">target</span><span class="p">:</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reference_id</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P248</span><span class="w">   </span><span class="c1"># Stated in</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stated in</span>

<span class="w">  </span><span class="c1"># Option 2: Multiple allowed types</span>
<span class="w">  </span><span class="nt">allowed</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stated_in</span>
<span class="w">      </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P248</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stated in</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reference_url</span>
<span class="w">      </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P854</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Reference URL</span>
</code></pre></div>
<h3 id="reusable-reference-patterns-with-yaml-anchors">Reusable Reference Patterns with YAML Anchors</h3>
<p>Instead of repeating reference structures, define them once and reuse:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Define at top of profile</span>
<span class="nt">standard_reference</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;standard_reference</span>
<span class="w">  </span><span class="nt">min_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allow_existing_nonconforming</span>
<span class="w">  </span><span class="nt">allowed</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stated_in</span>
<span class="w">      </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P248</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stated in</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reference_url</span>
<span class="w">      </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P854</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Reference URL</span>

<span class="c1"># Use anywhere in statements with editable references behavior</span>
<span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">member_count</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P2124</span>
<span class="w">    </span><span class="nt">behavior</span><span class="p">:</span>
<span class="w">      </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">  </span><span class="c1"># Curator chooses reference type</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">quantity</span>
<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>
</code></pre></div>
<p>This pattern dramatically reduces duplication and makes profile maintenance easier.</p>
<hr />
<h2 id="qualifiers-statement-modifiers">Qualifiers: Statement Modifiers</h2>
<p>Qualifiers are properties that modify or provide context for a main statement. They appear alongside the statement value in Wikidata's data model.</p>
<h3 id="qualifier-structure">Qualifier Structure</h3>
<div class="highlight"><pre><span></span><code><span class="nt">qualifiers</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qualifier_id</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Human-readable label</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P123</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w">        </span><span class="c1"># Is qualifier mandatory?</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">           </span><span class="c1"># null = unlimited</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w">         </span><span class="c1"># Qualifier&#39;s datatype</span>
<span class="w">      </span><span class="nt">constraints</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
</code></pre></div>
<h3 id="common-qualifier-examples">Common Qualifier Examples</h3>
<p><strong>Point in time</strong> (P585) - When a statement is true:
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">point_in_time</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Point in time</span>
<span class="w">  </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P585</span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">value</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">time</span>
</code></pre></div></p>
<p><strong>Language of work or name</strong> (P407) - Language for text:
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">language_of_work</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Language of work or name</span>
<span class="w">  </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P407</span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">value</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">    </span><span class="nt">allowed_items</span><span class="p">:</span>
<span class="w">      </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sparql</span>
<span class="w">      </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SELECT ?item ?itemLabel WHERE { ... }</span>
</code></pre></div></p>
<p><strong>Criterion used</strong> (P1013) - How location was determined:
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">criterion_used</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Criterion used</span>
<span class="w">  </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P1013</span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">value</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
</code></pre></div></p>
<hr />
<h2 id="entity-metadata-labels-descriptions-aliases-and-sitelinks">Entity Metadata: Labels, Descriptions, Aliases, and Sitelinks</h2>
<p>In addition to statements (claims), Wikidata items have <strong>entity-level metadata</strong> that provides context and discoverability:</p>
<ul>
<li><strong>Labels:</strong> The primary name in each language (only one per language)</li>
<li><strong>Descriptions:</strong> Short, distinctive descriptions (only one per language)</li>
<li><strong>Aliases:</strong> Alternative names, historical names, abbreviations (multiple per language)</li>
<li><strong>Sitelinks:</strong> Links to Wikipedia, Wikimedia Commons, and other wiki projects</li>
</ul>
<p>SpiritSafe profiles can optionally declare curator guidance for these metadata elements to ensure consistency and quality across language versions.</p>
<h3 id="metadata-in-wizard-workflows">Metadata in Wizard Workflows</h3>
<p>Entity metadata maps to <strong>Wizard Step 2 (Basic Identification)</strong> for labels/descriptions/aliases and <strong>Step 4 (Cross-Platform Links)</strong> for sitelinks. The wizard renders these sections based on what's defined in the profile.</p>
<h3 id="labels">Labels</h3>
<p>Labels are the primary identifiers for items in human-readable form. Each language gets exactly one label.</p>
<div class="highlight"><pre><span></span><code><span class="nt">labels</span><span class="p">:</span>
<span class="w">  </span><span class="nt">en</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Label</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The primary name by which this entity is known.</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">Use the name that the tribe uses in referring to itself as the primary label.</span>
<span class="w">      </span><span class="no">Check official sources and tribal government websites before setting.</span>

<span class="w">  </span><span class="nt">es</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Label (Spanish)</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The entity name in Spanish.</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">Use official Spanish names where available, preferring tribal self-designations.</span>
</code></pre></div>
<p><strong>Design notes:</strong>
- <strong>One per language:</strong> Wikidata enforces this strictlya label is immutable within a language
- <strong>Statement ordering:</strong> Place commonly expected languages first in the profile to set curator expectations
- <strong>Guidance:</strong> Include curator instructions on naming conventions and authority sources</p>
<h3 id="descriptions">Descriptions</h3>
<p>Descriptions disambiguate items when there are multiple with the same or similar labels. They should be concise and contextual.</p>
<div class="highlight"><pre><span></span><code><span class="nt">descriptions</span><span class="p">:</span>
<span class="w">  </span><span class="nt">en</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Description</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">A short, distinctive description to disambiguate this entity.</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">Format: &quot;federally recognized Native American tribe based in [region/state]&quot;</span>
<span class="w">      </span><span class="no">Example: &quot;federally recognized Native American tribe based in Oklahoma&quot;</span>
<span class="w">      </span><span class="no">Keep under 250 characters. Use present tense when possible.</span>

<span class="w">  </span><span class="nt">fr</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Description (French)</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">La description en franais.</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">Translate the English description or write a naturally-phrased French equivalent.</span>
</code></pre></div>
<p><strong>Design notes:</strong>
- <strong>Disambiguation:</strong> Should help distinguish this item from others with same/similar label
- <strong>Consistency:</strong> Use consistent language and phrasing across language versions
- <strong>Conciseness:</strong> Aim for 50150 characters; under 250 is a strict limit</p>
<h3 id="aliases">Aliases</h3>
<p>Aliases capture alternative names: historical names, abbreviations, informal names, names in other languages, transliterations, etc.</p>
<div class="highlight"><pre><span></span><code><span class="nt">aliases</span><span class="p">:</span>
<span class="w">  </span><span class="nt">en</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Aliases</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Alternative names by which this entity is known or has been referred to.</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">Include official alternative names, historical names, acronyms, and colloquial variants.</span>
<span class="w">      </span><span class="no">For tribes: include the U.S. Government official name if different from self-designation.</span>
<span class="w">      </span><span class="no">Example aliases:</span>
<span class="w">        </span><span class="no">- &quot;Northern Band of Paiute Indians&quot;</span>
<span class="w">        </span><span class="no">- &quot;Northern Paiute&quot;</span>
<span class="w">        </span><span class="no">- &quot;Kucedika&quot;</span>
<span class="w">    </span><span class="nt">examples</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;Northern</span><span class="nv"> </span><span class="s">Band&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;Historic</span><span class="nv"> </span><span class="s">name</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">federal</span><span class="nv"> </span><span class="s">recognition</span><span class="nv"> </span><span class="s">document&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;Colloquial</span><span class="nv"> </span><span class="s">short</span><span class="nv"> </span><span class="s">form&quot;</span>
</code></pre></div>
<p><strong>Design notes:</strong>
- <strong>No uniqueness constraint:</strong> Many items can have the same alias
- <strong>Multiple per language:</strong> Aliases are not limited (unlike labels/descriptions)
- <strong>Type-specific guidance:</strong> Tribes  government names; places  historical names; organizations  acronyms
- <strong>Bidirectional matching:</strong> Aliases improve discoverability in search</p>
<h3 id="sitelinks">Sitelinks</h3>
<p>Sitelinks are references to articles in Wikimedia projects (Wikipedia, Wikimedia Commons, etc.) in different languages. They establish the "interlinking" between language versions.</p>
<div class="highlight"><pre><span></span><code><span class="nt">sitelinks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allow_existing_nonconforming</span>
<span class="w">  </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">Sitelinks connect this Wikidata item to Wikipedia articles and other Wikimedia projects.</span>
<span class="w">    </span><span class="no">IMPORTANT: Each language+project combination can only exist on ONE Wikidata item.</span>
<span class="w">    </span><span class="no">Check for conflicts before adding any sitelink. The Wikidata API will reject duplicates.</span>

<span class="w">  </span><span class="nt">languages</span><span class="p">:</span>
<span class="w">    </span><span class="nt">en</span><span class="p">:</span>
<span class="w">      </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">wikipedia</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">English Wikipedia article</span>
<span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">Article title should match the item label or follow Wikipedia naming conventions.</span>
<span class="w">        </span><span class="no">If an article exists, add it here to improve discoverability.</span>

<span class="w">    </span><span class="nt">es</span><span class="p">:</span>
<span class="w">      </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">wikipedia</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Spanish Wikipedia article</span>
<span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">Add if this entity has significant coverage in Spanish Wikipedia.</span>

<span class="w">    </span><span class="nt">commons</span><span class="p">:</span>
<span class="w">      </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">commons</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Wikimedia Commons entity (for media files)</span>
<span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">Use only for entities that deserve a category or page on Commons (cultural institutions, </span>
<span class="w">        </span><span class="no">notable historical figures, geographic features with associated media collections).</span>
</code></pre></div>
<p><strong>Design notes:</strong>
- <strong>Uniqueness constraint:</strong> Wikidata enforces one sitelink per language+project combination across ALL items
- <strong>Validation policy:</strong> Use <code>allow_existing_nonconforming</code> to prevent blocking item creation when conflicts exist
- <strong>Project scope:</strong> Limit to projects with active communities (Wikipedia, Commons, etc.)
- <strong>Conflict detection:</strong> Curators should verify no conflicting item already links to target article before adding
- <strong>Wizard rendering:</strong> Sitelinks appear in Step 4 (Cross-Platform Links) with conflict validation</p>
<hr />
<h2 id="secondary-entities-and-profile-references">Secondary Entities and Profile References</h2>
<p>Many entity types naturally reference <strong>secondary entities</strong>related entities of different types that need their own profiles. For example:</p>
<ul>
<li>A <strong>Federally Recognized Tribe</strong> profile might link to:</li>
<li>"Office held by head of state" (a position/role entity)</li>
<li>
<p>"Headquarters location" (a geographic entity)</p>
</li>
<li>
<p>A <strong>University</strong> profile might link to:</p>
</li>
<li>"Founded by" (person or organization entities)</li>
<li>"Academic department" entities</li>
<li>"Campus" (geographic entities)</li>
</ul>
<p>When a statement references another entity that should be managed by its own profile, use the <strong><code>entity_profile</code></strong> key at the statement level to link to that profile.</p>
<h3 id="profile-reference-syntax">Profile Reference Syntax</h3>
<p>The <code>entity_profile</code> field contains a <strong>filename reference</strong> (without extension) to another profile registered in the SpiritSafe:</p>
<div class="highlight"><pre><span></span><code><span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">office_held_by_head_of_state</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Office held by head of state</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P1906</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span>
<span class="w">    </span><span class="nt">entity_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OfficeHeldByHeadOfState</span><span class="w">  </span><span class="c1"># Filename reference (no .yaml extension)</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>
</code></pre></div>
<p><strong>Key design points:</strong>
- <code>entity_profile</code> is specified at the <strong>statement level</strong>, not the value level
- Value is always <code>type: item</code> (Wikidata entity reference)
- Filename reference uses PascalCase without file extension
- SpiritSafe CI enforces uniqueness of profile filenames across the repository</p>
<h3 id="how-profile-references-work-in-wizards">How Profile References Work in Wizards</h3>
<p><strong>During Wizard Step 1 (Plan of Action):</strong>
- Wizard scans all statements for <code>entity_profile</code> keys
- Lists secondary entity types that may need creation: "You may also create or link to: Office Held by Head of State"
- Provides context: "If the entity doesn't exist in Wikidata, the wizard can help you create it"</p>
<p><strong>During Wizard Step 3 (Statements):</strong>
- When curator encounters a statement with <code>entity_profile</code>, the wizard <strong>always</strong> shows:
  - <strong>Option 1:</strong> Select existing item (QID) from Wikidata (standard item selection widget)
  - <strong>Option 2:</strong> "Create new [entity type]" button (always visible when <code>entity_profile</code> is present)
- If curator chooses "Create new":
  - Sub-wizard launches using the linked profile (full 5-step workflow with summaries)
  - Curator completes the secondary entity creation
  - Sub-wizard final summary offers: "Create another [entity type]" or "Return to [primary entity] wizard"
  - Returns to main wizard with new entity's temporary ID populated
  - Secondary entity is flagged for creation alongside primary entity</p>
<p><strong>During Wizard Step 5 (Review):</strong>
- Section shows "Secondary entities to be created" with:
  - List of new entities created during workflow
  - Summary of each (label, type, key statements)
  - Option to edit or remove before shipping
- When shipped, all entities are created in dependency order (secondary entities first, then primary)</p>
<p><strong>Note on sub-wizard design:</strong> Sub-wizards follow the same 5-step structure as primary wizards, including Plan of Action and Review screens. Post-MVP, sub-wizards may themselves spawn tertiary entity creation (nested wizard chains).</p>
<h3 id="when-to-use-profile-references">When to Use Profile References</h3>
<p><strong>Use <code>entity_profile</code> when:</strong>
- The referenced entity is complex enough to warrant its own profile
- Curators may need to create these entities during workflow (not just link to existing)
- The entity type has specific validation rules or statement patterns
- You want wizard support for creating related entities inline with full workflow support</p>
<p><strong>Don't use <code>entity_profile</code> when:</strong>
- The entity is generic and well-established in Wikidata (e.g., "country" or "language")
- The entity is unlikely to be created by curators (only linked to existing items)
- A simple choice list is sufficient (<code>allowed_items</code> with SPARQL query)
- The relationship is to a person or other entity managed through different workflows</p>
<h3 id="example-tribal-government-with-position-entities">Example: Tribal Government with Position Entities</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># TribalGovernmentUS.yaml</span>
<span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">head_of_government</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Head of government</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P6</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">      </span><span class="c1"># No entity_profile - this links to a person, managed by a different workflow</span>
<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">office_held_by_head_of_state</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Office held by head of state</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P1906</span>
<span class="w">    </span><span class="nt">entity_profile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OfficeHeldByHeadOfState</span><span class="w">  </span><span class="c1"># Links to secondary entity profile</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">      </span><span class="no">This is the office itself (e.g., &quot;Principal Chief of the Cherokee Nation&quot;),</span>
<span class="w">      </span><span class="no">not the person holding the office.</span>
<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>
</code></pre></div>
<p>In this pattern:
- <code>head_of_government</code> (P6) links to a person (QID) - no special handling needed
- <code>office_held_by_head_of_state</code> (P1906) links to an office entity that may need creation - wizard <strong>always</strong> shows "Create new" button</p>
<hr />
<h2 id="best-practices">Best Practices</h2>
<h3 id="1-design-profiles-for-curator-mental-models">1. Design Profiles for Curator Mental Models</h3>
<p>Profiles should align with how curators think about entities, not how developers think about code. The wizard steps (Plan  Identification  Statements  Links  Review) mirror curator workflowsdesign profiles to support that flow.</p>
<p><strong>Wizard-aware design:</strong>
- Order statements to reflect community expectationsmost important statements first in the YAML
- All statements are technically optional; communities aim to eventually fill all agreed-upon statements
- Use clear <code>input_prompt</code> text that guides curators at data-entry time
- Provide <code>guidance</code> for fields that need context (authority sources, formatting conventions, implications of not providing)
- Group semantically related statements together in the YAML (they'll appear together in Step 3)
- Use <code>entity_profile</code> for secondary entities that curators may need to create inline
- <strong>Philosophy</strong>: Support incremental contributionminimal viable entities (labels + instance_of) can be enhanced later</p>
<h3 id="2-keep-profiles-focused-and-cohesive">2. Keep Profiles Focused and Cohesive</h3>
<p>A profile should represent a single, well-defined entity type. Don't try to combine multiple unrelated entity types into one profile.</p>
<p><strong>Good:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Federally Recognized Tribe</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Native American tribes in the United States...</span>
</code></pre></div></p>
<p><strong>Bad:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Native American Entities</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tribes, nations, organizations, and cultural groups...</span>
</code></pre></div></p>
<h3 id="2-use-reusable-patterns">2. Use Reusable Patterns</h3>
<p>Define common patterns once at the top and reuse them via YAML anchors.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Define standard_reference, standard_source_qualifier, etc.</span>
<span class="nt">standard_reference</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;standard_reference</span>
<span class="w">  </span><span class="c1"># ...</span>

<span class="c1"># Then use in every statement that needs it</span>
<span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id: ...; references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>
</code></pre></div>
<h3 id="3-document-constraints-clearly">3. Document Constraints Clearly</h3>
<p>Each constraint should have a clear <code>description</code> that explains both <em>what</em> it does and <em>why</em>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">constraints</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">    </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^\d+$&#39;</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;OSM</span><span class="nv"> </span><span class="s">relation</span><span class="nv"> </span><span class="s">IDs</span><span class="nv"> </span><span class="s">are</span><span class="nv"> </span><span class="s">numeric</span><span class="nv"> </span><span class="s">only&#39;</span><span class="w">  </span><span class="c1"># Good</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">    </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^\d+$&#39;</span><span class="w">  </span><span class="c1"># Bad - no explanation</span>
</code></pre></div>
<h3 id="4-choose-validation-policy-and-behavior-intentionally">4. Choose Validation Policy and Behavior Intentionally</h3>
<p><strong>For validation_policy:</strong>
- Use <code>allow_existing_nonconforming</code> (default) unless you have a specific reason not to
- Use <code>strict</code> only when conformance is critical and you control all existing data</p>
<p><strong>For behavior:</strong>
- Use <code>behavior.references: auto_derive</code> when references are predictable and can be derived from statement value (reduces curator work, applies universally)
- Use <code>behavior.references: editable</code> when curators need flexibility in choosing reference types
- Use <code>behavior.value: fixed</code> when all entities of this type share the same value (e.g., instance_of classification)</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Example: locked value with editable references</span>
<span class="nt">behavior</span><span class="p">:</span>
<span class="w">  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fixed</span>
<span class="w">  </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span>

<span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">fixed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q7840353</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">federally recognized Native American tribe</span>

<span class="c1"># Example: editable value with auto-derived references</span>
<span class="nt">behavior</span><span class="p">:</span>
<span class="w">  </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auto_derive</span>

<span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url</span>

<span class="nt">references</span><span class="p">:</span>
<span class="w">  </span><span class="nt">target</span><span class="p">:</span>
<span class="w">    </span><span class="nt">value_source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement_value</span><span class="w">  </span><span class="c1"># URL becomes its own reference</span>
</code></pre></div>
<h3 id="5-leverage-sparql-for-choice-lists">5. Leverage SPARQL for Choice Lists</h3>
<p>Instead of hardcoding choices, query Wikidata dynamically:</p>
<div class="highlight"><pre><span></span><code><span class="nt">allowed_items</span><span class="p">:</span>
<span class="w">  </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sparql</span>
<span class="w">  </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;</span>
<span class="w">    </span><span class="no">PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;</span>

<span class="w">    </span><span class="no">SELECT ?item ?itemLabel</span>
<span class="w">    </span><span class="no">WHERE {</span>
<span class="w">      </span><span class="no">?item wdt:P31 wd:Q6581097 .  # Administrative territory</span>
<span class="w">      </span><span class="no">SERVICE wikibase:label { bd:serviceParam wikibase:language &quot;en&quot; }</span>
<span class="w">    </span><span class="no">}</span>
</code></pre></div>
<h3 id="6-use-explicit-prefixes-in-sparql-queries">6. Use Explicit Prefixes in SPARQL Queries</h3>
<p>Since profiles may be used with alternate SPARQL endpoints (Qlever, Virtuoso), use explicit prefixes:</p>
<div class="highlight"><pre><span></span><code><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">  </span><span class="no">PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;</span>
<span class="w">  </span><span class="no">PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;</span>
<span class="w">  </span><span class="no">PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;</span>

<span class="w">  </span><span class="no">SELECT ?item ?itemLabel</span>
<span class="w">  </span><span class="no">WHERE {</span>
<span class="w">    </span><span class="no">?item wdt:P31 wd:Q6581097 ;</span>
<span class="w">          </span><span class="no">rdfs:label ?itemLabel .</span>
<span class="w">    </span><span class="no">FILTER(LANG(?itemLabel) = &quot;en&quot;)</span>
<span class="w">  </span><span class="no">}</span>
</code></pre></div>
<p>Avoid <code>SERVICE wikibase:label</code> which only works on WDQS.</p>
<h3 id="7-set-reasonable-refresh-policies-for-choice-lists">7. Set Reasonable Refresh Policies for Choice Lists</h3>
<div class="highlight"><pre><span></span><code><span class="nt">refresh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">manual</span><span class="w">      </span><span class="c1"># Check manually when updated</span>
<span class="nt">refresh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">daily</span><span class="w">       </span><span class="c1"># Check once per day</span>
<span class="nt">refresh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">weekly</span><span class="w">      </span><span class="c1"># Check once per week</span>
<span class="nt">refresh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">on_release</span><span class="w">  </span><span class="c1"># Check on new Wikidata releases</span>
</code></pre></div>
<p>Use <code>manual</code> during development, <code>daily</code> or <code>weekly</code> for production.</p>
<h3 id="8-make-references-required-where-domain-appropriate">8. Make References Required Where Domain-Appropriate</h3>
<p>External IDs typically don't need references (they're declarations). But facts that can be disputed should have references:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># No references needed - it&#39;s an identifier</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">osm_relation_id</span>
<span class="w">  </span><span class="c1"># ...</span>
<span class="w">  </span><span class="c1"># No references block</span>

<span class="c1"># References required - it&#39;s a factual claim</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">headquarters_location</span>
<span class="w">  </span><span class="c1"># ...</span>
<span class="w">  </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>
</code></pre></div>
<h3 id="9-test-profiles-with-wizard-workflows">9. Test Profiles With Wizard Workflows</h3>
<p>The best way to validate a profile is to walk through the wizard it generates:</p>
<ol>
<li>Launch wizard with profile: <code>gkc profile form --profile YourProfile --new</code></li>
<li>Walk through all 5 steps as a curator would</li>
<li>Check:</li>
<li>Are <code>input_prompt</code> messages clear and helpful?</li>
<li>Does statement ordering reflect community priorities?</li>
<li>Can you create a minimal viable entity by skipping most statements?</li>
<li>Are choice lists populated and relevant?</li>
<li>Does <code>behavior.references: auto_derive</code> work correctly and reduce curator burden?</li>
<li>Does <code>behavior.value: fixed</code> display appropriately as read-only?</li>
<li>Do secondary entities (<code>entity_profile</code>) appear at the right time with "Create new" option?</li>
<li>Is <code>guidance</code> text helpful for understanding implications of skipping statements?</li>
<li>Test the incremental workflow:</li>
<li>Create minimal entity (labels + instance_of only)</li>
<li>"Ship" it to see if review step allows minimal data</li>
<li>Return and enhance with more statements</li>
<li>Iterate based on curator experience, not code convenience</li>
</ol>
<hr />
<h2 id="complete-example-federally-recognized-tribe-profile">Complete Example: Federally Recognized Tribe Profile</h2>
<p>Here's the complete tribal government profile used throughout this phase:</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Federally Recognized Tribe</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">  </span><span class="no">Canonical form for representing a federally recognized Native American tribe</span>
<span class="w">  </span><span class="no">in the United States, based loosely on EntitySchema E502.</span>

<span class="c1"># Entity labels (multilingual)</span>
<span class="nt">labels</span><span class="p">:</span>
<span class="w">  </span><span class="nt">en</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Label</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">The primary name by which this tribe is commonly known in English.</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">      </span><span class="no">Use the name that the tribe uses in referring to itself as the primary label where possible.</span>
<span class="w">      </span><span class="no">Check official tribal government websites and Wikidata items for existing tribes.</span>
<span class="w">      </span><span class="no">Prefer the tribe&#39;s self-designation over external government names.</span>

<span class="c1"># Entity descriptions (multilingual)</span>
<span class="nt">descriptions</span><span class="p">:</span>
<span class="w">  </span><span class="nt">en</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Description</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">A short, distinctive description to disambiguate this tribe from others.</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">      </span><span class="no">Format: &quot;federally recognized Native American tribe based in [region/state]&quot;</span>
<span class="w">      </span><span class="no">Example: &quot;federally recognized Native American tribe based in Oklahoma&quot;</span>
<span class="w">      </span><span class="no">Keep concise (under 250 characters) and informative.</span>

<span class="c1"># Entity aliases (multilingual alternative names)</span>
<span class="nt">aliases</span><span class="p">:</span>
<span class="w">  </span><span class="nt">en</span><span class="p">:</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Aliases</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Alternative names by which this tribe is known or has been referred to.</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">      </span><span class="no">Include an alias for the official name of the tribe as referred to by the U.S. Government</span>
<span class="w">      </span><span class="no">(e.g., from the Bureau of Indian Affairs list).</span>
<span class="w">      </span><span class="no">Include historical names and names in other languages when available.</span>
<span class="w">    </span><span class="nt">examples</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;Anishinaabek&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;Northern</span><span class="nv"> </span><span class="s">Band&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;Official</span><span class="nv"> </span><span class="s">tribal</span><span class="nv"> </span><span class="s">name</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">federal</span><span class="nv"> </span><span class="s">recognition</span><span class="nv"> </span><span class="s">document&quot;</span>

<span class="c1"># Entity sitelinks (Wikipedia and other wiki language versions)</span>
<span class="nt">sitelinks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allow_existing_nonconforming</span>
<span class="w">  </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">    </span><span class="no">Sitelinks connect this item to Wikipedia articles and other Wikimedia projects in different languages.</span>
<span class="w">    </span><span class="no">Each language/project combination can only appear on ONE Wikidata item - check for conflicts</span>
<span class="w">    </span><span class="no">before adding sitelinks. Validation at profile level can check format, but uniqueness</span>
<span class="w">    </span><span class="no">constraint will only be caught when writing to Wikidata.</span>
<span class="w">  </span><span class="nt">languages</span><span class="p">:</span>
<span class="w">    </span><span class="nt">en</span><span class="p">:</span>
<span class="w">      </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">wikipedia</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">English Wikipedia article</span>
<span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">        </span><span class="no">Article title should match the tribe name or established Wikipedia conventions.</span>
<span class="w">    </span><span class="nt">fr</span><span class="p">:</span>
<span class="w">      </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">wikipedia</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">French Wikipedia article</span>
<span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">guidance</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">        </span><span class="no">Include if a French Wikipedia article exists for this tribe.</span>

<span class="c1"># Reusable reference patterns</span>
<span class="nt">standard_reference</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;standard_reference</span>
<span class="w">  </span><span class="nt">min_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allow_existing_nonconforming</span>
<span class="w">  </span><span class="nt">allowed</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stated_in</span>
<span class="w">      </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P248</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stated in</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Reference to source document or database</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reference_url</span>
<span class="w">      </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P854</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">url</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Reference URL</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Direct URL to source</span>

<span class="nt">statements</span><span class="p">:</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">instance_of</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Instance of</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P31</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">    </span><span class="nt">validation_policy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">allow_existing_nonconforming</span>

<span class="w">    </span><span class="nt">behavior</span><span class="p">:</span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fixed</span><span class="w">        </span><span class="c1"># Value locked to Q7840353</span>
<span class="w">      </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">editable</span><span class="w">  </span><span class="c1"># References manually provided</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">      </span><span class="nt">fixed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q7840353</span>
<span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">federally recognized Native American tribe in the United States</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">native_name</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Native name</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P1705</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">monolingualtext</span>
<span class="w">      </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">language_required</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">valid_language_code</span>

<span class="w">    </span><span class="nt">qualifiers</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">language_of_work</span>
<span class="w">        </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Language of work or name</span>
<span class="w">        </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P407</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
<span class="w">          </span><span class="nt">allowed_items</span><span class="p">:</span>
<span class="w">            </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sparql</span>
<span class="w">            </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">              </span><span class="no">PREFIX wd: &lt;http://www.wikidata.org/entity/&gt;</span>
<span class="w">              </span><span class="no">PREFIX wdt: &lt;http://www.wikidata.org/prop/direct/&gt;</span>
<span class="w">              </span><span class="no">PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;</span>

<span class="w">              </span><span class="no">SELECT ?item ?itemLabel ?languageCode</span>
<span class="w">              </span><span class="no">WHERE {</span>
<span class="w">                </span><span class="no">?item wdt:P31/wdt:P279* wd:Q34770 ;</span>
<span class="w">                      </span><span class="no">wdt:P424 ?languageCode ;</span>
<span class="w">                      </span><span class="no">rdfs:label ?itemLabel .</span>
<span class="w">                </span><span class="no">FILTER(LANG(?itemLabel) = &quot;en&quot;)</span>
<span class="w">              </span><span class="no">}</span>
<span class="w">            </span><span class="nt">refresh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">weekly</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">headquarters_location</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headquarters location</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P159</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>

<span class="w">    </span><span class="nt">qualifiers</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">street_address</span>
<span class="w">        </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Street address</span>
<span class="w">        </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P6375</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">monolingualtext</span>
<span class="w">          </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">language_required</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postal_code</span>
<span class="w">        </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Postal code</span>
<span class="w">        </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P281</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">coordinate_location</span>
<span class="w">        </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Coordinate location</span>
<span class="w">        </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P625</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">globecoordinate</span>
<span class="w">          </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">precision</span>
<span class="w">              </span><span class="nt">min_precision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0001</span>
<span class="w">              </span><span class="nt">max_precision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">inception</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Inception</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P571</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">time</span>
<span class="w">      </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">precision</span>
<span class="w">          </span><span class="nt">allowed_precisions</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">9</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">11</span><span class="p p-Indicator">]</span>
<span class="w">          </span><span class="nt">auto_derive</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">calendar_model</span>
<span class="w">          </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Q1985727</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">          </span><span class="nt">patterns</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;YYYY&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;YYYY-MM&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;YYYY-MM-DD&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">osm_relation_id</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OpenStreetMap relation ID</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P402</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">external-id</span>
<span class="w">      </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">          </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^\d+$&#39;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">formatter_url</span>
<span class="w">          </span><span class="nt">url_pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;http://www.openstreetmap.org/relation/$1&#39;</span>
<span class="w">          </span><span class="nt">validate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">          </span><span class="nt">validation_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http_head</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">flag_image</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Flag image</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P41</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">max_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="nt">value</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">commonsMedia</span>
<span class="w">      </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file_exists</span>
<span class="w">          </span><span class="nt">validate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">          </span><span class="nt">validation_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">commons_api</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file_type</span>
<span class="w">          </span><span class="nt">allowed_types</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;image/svg+xml&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;image/png&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;image/jpeg&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="nt">references</span><span class="p">:</span><span class="w"> </span><span class="nv">*standard_reference</span>
</code></pre></div>
<hr />
<h2 id="step-by-step-building-your-own-profile">Step-by-Step: Building Your Own Profile</h2>
<ol>
<li>
<p><strong>Define the entity type</strong> - What kind of thing are you profiling?
   <div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">My Entity Type</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">  </span><span class="no">Clear description of scope, examples, and use cases.</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Identify key properties</strong> - Which Wikidata properties are essential?</p>
</li>
<li>Look at existing Wikidata items of this type</li>
<li>Check EntitySchemas for precedent</li>
<li>
<p>Consult domain-specific schemas</p>
</li>
<li>
<p><strong>Start with required statements</strong> - What must always be present?
   <div class="highlight"><pre><span></span><code><span class="nt">statements</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement_id</span>
<span class="w">    </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Statement Label</span>
<span class="w">    </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P123</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">statement</span>
<span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Add datatype definitions</strong> - What type of value does each statement hold?
   <div class="highlight"><pre><span></span><code><span class="nt">value</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w">  </span><span class="c1"># or item, url, quantity, time, etc.</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Define constraints</strong> - What rules validate the data?
   <div class="highlight"><pre><span></span><code><span class="nt">constraints</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">format</span>
<span class="w">    </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;^[A-Z]+$&#39;</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Add references where needed</strong> - Which statements need sources?
   <div class="highlight"><pre><span></span><code><span class="nt">references</span><span class="p">:</span>
<span class="w">  </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">allowed</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stated_in</span>
<span class="w">      </span><span class="nt">wikidata_property</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">P248</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">item</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Test with real data</strong> - Load a profile and validate against actual items</p>
</li>
<li><strong>Iterate based on feedback</strong> - Refine constraints and statement definitions</li>
<li><strong>Document edge cases</strong> - Add comments explaining non-obvious choices</li>
</ol>
<hr />
<h2 id="future-enhancements">Future Enhancements</h2>
<p>As profiles are used in practice, expect iterative refinements:</p>
<ul>
<li><strong>Wizard step customization</strong> - Profile-level <code>wizard_steps</code> metadata to customize step organization beyond the default 5-step structure</li>
<li><strong>Conditional statements</strong> - Statements that appear only if certain conditions are met (e.g., "headquarters location" only for organizations with <code>instance_of: organization</code>)</li>
<li><strong>Qualifier constraints</strong> - Validate qualifiers without loading full statement</li>
<li><strong>Cross-statement validation</strong> - Rules connecting multiple statements  </li>
<li><strong>Profile composition</strong> - Merging or extending existing profiles</li>
<li><strong>Multi-language support</strong> - Localized statement labels and prompts</li>
<li><strong>Version management</strong> - Profile versioning and migration guides</li>
<li><strong>Wizard branching logic</strong> - More sophisticated secondary entity workflows with dependency tracking</li>
</ul>
<hr />
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="../../architecture/">Architecture Overview</a> - Profile role in GKC pipeline</li>
<li><a href="../api/">API Reference</a> - Profile loading and validation utilities</li>
<li><a href="../api/">Validation Utilities</a> - Constraint enforcement</li>
<li><a href="https://github.com/skybristol/SpiritSafe">SpiritSafe Repository</a> - Canonical profile registrants and query assets</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.sections", "navigation.top", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js"></script>
      
        <script src="../../javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>